<app-nav></app-nav>
<div class="submit-app-header">Nộp hồ sơ</div>
<div class="wrapper">
    <mat-stepper linear #stepper>
        <mat-step [stepControl]="firstFormGroup">
            <form [formGroup]="firstFormGroup">
                <ng-template matStepLabel>Bước 1: Điền thông tin</ng-template>
                <!-- Personal info section-->
                <div class="personal-header">THÔNG TIN CÁ NHÂN</div>
                <mat-divider></mat-divider>
                <div class="personal-section">
                    <div>
                        <div class="label">Họ và tên</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Họ và tên</mat-label>
                            <input matInput formControlName="name" placeholder="Nhập họ và tên">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Giới tính</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Giới tính</mat-label>
                            <mat-select disableRipple formControlName="sex">
                                <mat-option value="male">Nam</mat-option>
                                <mat-option value="female">Nữ</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Ngày sinh</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Chọn ngày sinh</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="birth">
                            <mat-hint>MM/DD/YYYY</mat-hint>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Địa chỉ</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Địa chỉ</mat-label>
                            <input matInput formControlName="address" placeholder="Nhập địa chỉ">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">CMND / CCCD</div>
                        <mat-form-field appearance="fill">
                            <mat-label>CMND</mat-label>
                            <input matInput formControlName="cmnd" placeholder="Nhập địa chỉ">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Điện thoại</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Điện thoại</mat-label>
                            <input matInput formControlName="phone" placeholder="Nhập số điện thoại">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Email</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email" placeholder="Nhập email">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Ngành ứng tuyển</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Ngành ứng tuyển</mat-label>
                            <input type='text' matInput formControlName="uniSpec" [matAutocomplete]="auto" placeholder="Nhập ngành ứng tuyển">
                            <mat-autocomplete #auto="matAutocomplete" autoActiveFirstOption>
                                <mat-option *ngFor="let option of uniSpecList" [value]="option.uniSpecName">
                                    {{option.uniSpecName}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                </div>

                <!-- High school info section-->
                <div class="personal-header">THÔNG TIN TỐT NGHIỆP TRUNG HỌC PHỔ THÔNG</div>
                <mat-divider></mat-divider>
                <div class="highschool-section">
                    <div>
                        <div class="label">Tỉnh thành</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Tỉnh thành</mat-label>
                            <input matInput formControlName="city" placeholder="Nhập tỉnh thành">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Quận huyện</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Quận huyện</mat-label>
                            <mat-select disableRipple formControlName="district">
                                <mat-option value="male">Quận 1</mat-option>
                                <mat-option value="female">Quận 2</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Trường THPT</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Trường THPT</mat-label>
                            <input matInput formControlName="highschool" placeholder="Nhập trường THPT">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Năm tốt nghiệp</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Năm tốt nghiệp</mat-label>
                            <input matInput formControlName="graduateYear" placeholder="Nhập năm tốt nghiệp">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Điểm tổng kết năm lớp 12</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Điểm tổng kết năm lớp 12</mat-label>
                            <input matInput formControlName="gradeTwelve" placeholder="Nhập điểm tổng kết năm lớp 12">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Học lực lớp 12</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Học lực lớp 12</mat-label>
                            <input matInput formControlName="abilityTwelve" placeholder="Nhập học lực lớp 12">
                        </mat-form-field>
                    </div>
                </div>

                <div>
                    <button mat-raised-button matStepperNext class="next-btn">Tiếp</button>
                </div>
            </form>
        </mat-step>
        <mat-step>
            <div class="step-two-header">
                Upload hồ sơ
            </div>
            <form [formGroup]="secondFormGroup" class="second-form">
                <ng-template matStepLabel>Bước 2: Upload Hồ sơ</ng-template>
                <div class="step-two-card">
                    <label>Học bạ THPT</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="step-two-card">
                    <label>Bằng tốt nghiệp THPT</label>
                    <input type="file" (change)="graduateFileChange($event)" formControlName="graduate">
                </div>
                <div class="step-two-card">
                    <label>Phiếu điểm thi</label>
                    <input type="file" (change)="gradeFileChange($event)" formControlName="grade">
                </div>
                <div class="step-two-card">
                    <label>CMND mặt trước</label>
                    <input type="file" (change)="frontIdFileChange($event)" formControlName="frontId">
                </div>
                <div class="step-two-card">
                    <label>CMND mặt sau</label>
                    <input type="file" (change)="backIdFileChange($event)" formControlName="backId">
                </div>
                <div class="action-btn">
                    <button mat-raised-button matStepperPrevious>Back</button>
                    <button mat-raised-button matStepperNext (click)="submitFile()">Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step>
            <form [formGroup]="finishFormGroup">
                <ng-template matStepLabel>Hoàn tất</ng-template>
                <!-- Personal info section-->
                <div class="finish-header">KIỂM TRA LẠI THÔNG TIN</div>
                <div class="personal-header">THÔNG TIN CÁ NHÂN</div>
                <mat-divider></mat-divider>
                <div class="personal-section">
                    <div>
                        <div class="label">Họ và tên</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Họ và tên</mat-label>
                            <input matInput formControlName="name" placeholder="Nhập họ và tên">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Giới tính</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Giới tính</mat-label>
                            <mat-select disableRipple formControlName="sex">
                                <mat-option value="male">Nam</mat-option>
                                <mat-option value="female">Nữ</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Ngày sinh</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Chọn ngày sinh</mat-label>
                            <input matInput [matDatepicker]="picker2" formControlName="birth">
                            <mat-hint>MM/DD/YYYY</mat-hint>
                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                            <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Địa chỉ</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Địa chỉ</mat-label>
                            <input matInput formControlName="address" placeholder="Nhập địa chỉ">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">CMND / CCCD</div>
                        <mat-form-field appearance="fill">
                            <mat-label>CMND</mat-label>
                            <input matInput formControlName="cmnd" placeholder="Nhập địa chỉ">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Điện thoại</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Điện thoại</mat-label>
                            <input matInput formControlName="phone" placeholder="Nhập số điện thoại">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Email</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email" placeholder="Nhập email">
                        </mat-form-field>
                    </div>
                </div>

                <!-- High school info section-->
                <div class="personal-header">THÔNG TIN TỐT NGHIỆP TRUNG HỌC PHỔ THÔNG</div>
                <mat-divider></mat-divider>
                <div class="highschool-section">
                    <div>
                        <div class="label">Tỉnh thành</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Tỉnh thành</mat-label>
                            <input matInput formControlName="city" placeholder="Nhập tỉnh thành">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Quận huyện</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Quận huyện</mat-label>
                            <mat-select disableRipple formControlName="district">
                                <mat-option value="male">Quận 1</mat-option>
                                <mat-option value="female">Quận 2</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Trường THPT</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Trường THPT</mat-label>
                            <input matInput formControlName="highschool" placeholder="Nhập trường THPT">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Năm tốt nghiệp</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Năm tốt nghiệp</mat-label>
                            <input matInput formControlName="graduateYear" placeholder="Nhập năm tốt nghiệp">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Điểm tổng kết năm lớp 12</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Điểm tổng kết năm lớp 12</mat-label>
                            <input matInput formControlName="gradeTwelve" placeholder="Nhập điểm tổng kết năm lớp 12">
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="label">Học lực lớp 12</div>
                        <mat-form-field appearance="fill">
                            <mat-label>Học lực lớp 12</mat-label>
                            <input matInput formControlName="abilityTwelve" placeholder="Nhập học lực lớp 12">
                        </mat-form-field>
                    </div>
                </div>
                <div class="step-two-card">
                    <label>Học bạ THPT</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="step-two-card">
                    <label>Bằng tốt nghiệp THPT</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="step-two-card">
                    <label>Phiếu điểm thi</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="step-two-card">
                    <label>CMND mặt trước</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="step-two-card">
                    <label>CMND mặt sau</label>
                    <input type="file" (change)="schoolProfileFileChange($event)" formControlName="schoolProfile">
                </div>
                <div class="action-btn">
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button (click)="submitAll()">Hoàn tất</button>
                </div>
            </form>
        </mat-step>
    </mat-stepper>
</div>